# WebRTC Security Camera Configuration
# =============================================
# Copy this file to .env and fill in your actual values
# 
# Quick Start:
# 1. Copy: cp .env.example .env
# 2. Edit .env with your values
# 3. For basic setup, you only need to configure MailSlurp (optional) and can leave most defaults

# =============================================
# EMAIL NOTIFICATIONS (GUI-Configured)
# =============================================
# üéâ NEW: Email notifications are now configured through an interactive GUI!
#
# When you first run the application, a friendly dialog will appear with options:
#   1. üöÄ MailerSend API - Just enter your API token
#   2. üì® Gmail OAuth2 - Sign in with your Google account
#   3. ‚è≠Ô∏è  Skip Email - Motion detection works without email
#
# The GUI handles all configuration, testing, and setup automatically!
# No manual environment variable editing required.
#
# For headless/server deployments, you can still use environment variables:
# MAILSEND_API_TOKEN=your-mailersend-token
# GMAIL_CLIENT_ID=your-gmail-client-id
# GMAIL_CLIENT_SECRET=your-gmail-client-secret
# NOTIFICATION_EMAIL=your-email@example.com

# =============================================
# WEBRTC AUTHENTICATION
# =============================================
# These are credentials YOU create for your TURN server security
# Make up any username/password you want - they're used internally for WebRTC auth
# Recommended: Use something secure like "camera_user" and a strong password
WEBRTC_USERNAME=camera_user
WEBRTC_PASSWORD=your-secure-password-here

# =============================================
# TAILSCALE NETWORKING (Advanced)
# =============================================
# Tailscale replaces traditional networking with secure mesh networking
# TAILSCALE_ENABLED=false means use traditional TURN servers (recommended for beginners)
# TAILSCALE_ENABLED=true enables mesh networking (requires Tailscale installed)
# 
# Benefits of Tailscale:
# - No need for port forwarding
# - Better security (encrypted mesh network)
# - Better performance (direct connections)
# - Works across NATs automatically
TAILSCALE_ENABLED=false

# Only needed if TAILSCALE_ENABLED=true:
TAILSCALE_NODE_NAME=webcam-security
# Auth key from: https://login.tailscale.com/admin/settings/keys (optional - can authenticate via browser)
TAILSCALE_AUTH_KEY=your-tailscale-auth-key-here
TAILSCALE_HOSTNAME=
TAILSCALE_LISTEN_PORT=41641

# =============================================
# SERVER CONFIGURATION
# =============================================
# PORT: The port your web server runs on (3000 is standard for development)
# HOST: 
#   - localhost = only accessible from this computer
#   - 0.0.0.0 = accessible from any IP address (use for remote access)
PORT=3000
HOST=localhost

# ION_SFU_URL: The WebRTC media server URL (localhost:7000 is the default)
# Change this only if you're running ion-sfu on a different machine/port
ION_SFU_URL=ws://localhost:7000/ws

# =============================================
# CORS CONFIGURATION (Web Security)
# =============================================
# CORS controls which websites can connect to your server
# "*" = allow all websites (good for development, less secure)
# "http://localhost:3000" = only allow your local server
# "https://yourdomain.com" = only allow specific domain
# Recommended for most users: "*" (unless you have specific security needs)
CORS_ORIGIN=*

# =============================================
# TURN SERVER (Legacy/Fallback only)
# =============================================
# These settings are only used when TAILSCALE_ENABLED=false
# If using Tailscale, you can ignore these settings
TURN_PUBLIC_IP=127.0.0.1
TURN_PORT=3478
TURN_USERS=camera_user=change-this-password
TURN_REALM=pion.ly

# =============================================
# DEBUGGING
# =============================================
# Set to true for verbose logging (helpful for troubleshooting)
# Set to false for normal operation
DEBUG=false

# =============================================
# COMMON CONFIGURATIONS:
# =============================================
#
# FOR LOCAL TESTING (default):
# PORT=3000
# HOST=localhost
# TAILSCALE_ENABLED=false
#
# FOR REMOTE ACCESS (same network):
# PORT=3000
# HOST=0.0.0.0
# TAILSCALE_ENABLED=false
#
# FOR SECURE MESH NETWORKING:
# PORT=3000
# HOST=0.0.0.0
# TAILSCALE_ENABLED=true
# (requires Tailscale setup on all devices)
#
# FOR PRODUCTION:
# PORT=443 (or 80)
# HOST=0.0.0.0
# CORS_ORIGIN=https://yourdomain.com
# Use strong WEBRTC_PASSWORD
# Consider TAILSCALE_ENABLED=true for security